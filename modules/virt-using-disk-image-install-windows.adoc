// Module included in the following assemblies:
//
// * virt/virtual_machines/creating_vms/virt-creating-vms-from-custom-images.adoc

:_content-type: PROCEDURE
[id="virt-using-disk-image-install-windows_{context}"]
= Creating a Windows VM from an uploaded image

You can create a Windows virtual machine (VM) by uploading a Windows image to a persistent volume claim (PVC) and then cloning the PVC when you create a VM by using the {product-title} web console.

.Prerequisites

* You created a Windows installation DVD or USB with the Windows Media Creation Tool. Example: link:https://www.microsoft.com/en-us/software-download/windows10%20[Create Windows 10 installation media].
* You created an `autounattend.xml` answer file. See the link:https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/update-windows-settings-and-scripts-create-your-own-answer-file-sxs[Microsoft documentation] for details.

.Procedure

. Navigate to *Storage* -> *PersistentVolumeClaims* in the web console.
. Click *Create PersistentVolumeClaim* > *With Data upload form*.
. Browse to the Windows image and select it.
. Enter a PVC name, select a storage class and PVC size, and click *Upload*.
+
The Windows image is uploaded to a PVC.

. Navigate to *Virtualization* -> *Catalog*.
. Select a Windows template and click *Customize VirtualMachine*.
. Select *Clone (clone PVC)* from the *Disk source* list.
. Select the PVC project and the PVC with the Windows image and set the disk size.
. Click *Customize VirtualMachine parameters*.
. On the *Sysprep* section of the *Scripts* tab, click *Edit*.
. Browse to the `autounattend.xml` answer file and click *Save*.
. Clear *Start this VirtualMachine after creation*.
. Click *Create VirtualMachine*.
. On the *YAML* tab, replace `running:false` with `runStrategy: RerunOnFailure` and click *Save*.

The VM will start with the `sysprep` disk containing the `autounattend.xml` answer file.
